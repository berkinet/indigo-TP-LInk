<?xml version="1.0"?>

<Devices>
	<!-- I'm going to start with one relay device type for a Kasa SmartPlug.
	   Others can be added as I learn what they need to be.
	-->
		<Device type="relay" id="tplinkSmartPlug">
			<Name>TP-Link Smart plug (all versions)</Name>
			<ConfigUI>
				<Field id="multiPlug" type="checkbox" hidden="true" defaultValue="false" />
				<Field id="address" type="textfield" defaultValue="192.168.0.0">
					<Label>Module IP Address:</Label>
				</Field>
				￼<Field id="outletNum" type="textfield" hidden="true" defaultValue="00" />
				<Field id="devPoll" type="checkbox" defaultValue="true">
					<Label>Enable device polling:</Label>
				</Field>
				<Field id="offPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is Off</Label>
				</Field>
				<Field id="onPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is On</Label>
				</Field>
				<Field id="newDev" type="checkbox" hidden="true" defaultValue="true">
				</Field>
				￼<Field id="simpleSeparator1" type="separator" />
				<Field id="initialize" type="checkbox" defaultValue="false" visibleBindingId="newDev"  visibleBindingValue="false">>
					<Label>Check to re-read device parameters:</Label>
				</Field>
				<Field type="checkbox" id="SupportsEnergyMeter" defaultValue="true" hidden="true" />
            	<Field type="checkbox" id="SupportsEnergyMeterCurPower" defaultValue="true" hidden="true" />
			</ConfigUI>
			<States>
				<State id="rssi">
					<ValueType>String</ValueType>
					<TriggerLabel>Signal Strength</TriggerLabel>
					<ControlPageLabel>Signal Strength</ControlPageLabel>
				</State>
				<State id="alias">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Alias</TriggerLabel>
					<ControlPageLabel>Device Alias</ControlPageLabel>
				</State>
				<State id="curWatts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Watts</TriggerLabel>
					<ControlPageLabel>Current Watts</ControlPageLabel>
				</State>
				<State id="curVolts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Volts</TriggerLabel>
					<ControlPageLabel>Current Volts</ControlPageLabel>
				</State>
				<State id="curAmps">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Amps</TriggerLabel>
					<ControlPageLabel>Current Amps</ControlPageLabel>
				</State>
			</States>
		</Device>

	<Device type="relay" id="hs110">
			<Name>HS110 SmartPlug w/Energy Monitoring</Name>
			<ConfigUI>
				<Field id="multiPlug" type="checkbox" hidden="true" defaultValue="false" />
				<Field id="address" type="textfield" defaultValue="192.168.0.0">
					<Label>Module IP Address:</Label>
				</Field>
				￼<Field id="outletNum" type="textfield" hidden="true" defaultValue="00" />
				<Field id="devPoll" type="checkbox" defaultValue="true">
					<Label>Enable device polling:</Label>
				</Field>
				<Field id="offPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is Off</Label>
				</Field>
				<Field id="onPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is On</Label>
				</Field>
				<Field id="newDev" type="checkbox" hidden="true" defaultValue="true">
				</Field>
				￼<Field id="simpleSeparator1" type="separator" />
				<Field id="initialize" type="checkbox" defaultValue="false" visibleBindingId="newDev"  visibleBindingValue="false">>
					<Label>Check to re-read device parameters:</Label>
				</Field>
				<Field type="checkbox" id="SupportsEnergyMeter" defaultValue="true" hidden="true" />
            	<Field type="checkbox" id="SupportsEnergyMeterCurPower" defaultValue="true" hidden="true" />
			</ConfigUI>
			<States>
				<State id="rssi">
					<ValueType>String</ValueType>
					<TriggerLabel>Signal Strength</TriggerLabel>
					<ControlPageLabel>Signal Strength</ControlPageLabel>
				</State>
				<State id="dev_name">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Name</TriggerLabel>
					<ControlPageLabel>Device Name</ControlPageLabel>
				</State>
				<State id="deviceId">
					<ValueType>String</ValueType>
					<TriggerLabel>Device ID</TriggerLabel>
					<ControlPageLabel>Device ID</ControlPageLabel>
				</State>
				<State id="outletId">
					<ValueType>String</ValueType>
					<TriggerLabel>Outlet ID</TriggerLabel>
					<ControlPageLabel>Outlet ID</ControlPageLabel>
				</State>
				<State id="model">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Model</TriggerLabel>
					<ControlPageLabel>Device Model</ControlPageLabel>
				</State>
				<State id="alias">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Alias</TriggerLabel>
					<ControlPageLabel>Device Alias</ControlPageLabel>
				</State>
				<State id="mac">
					<ValueType>String</ValueType>
					<TriggerLabel>Device MAC</TriggerLabel>
					<ControlPageLabel>Device MAC</ControlPageLabel>
				</State>
				<State id="user">
					<ValueType>String</ValueType>
					<TriggerLabel>Username</TriggerLabel>
					<ControlPageLabel>User Name</ControlPageLabel>
				</State>
				<State id="bind">
					<ValueType boolType="YesNo">Boolean</ValueType>
					<TriggerLabel>Bind State</TriggerLabel>
					<ControlPageLabel>Bind State</ControlPageLabel>
				</State>
<!-- 			<State id="curEnergyLevel">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Watts</TriggerLabel>
					<ControlPageLabel>Current Watts</ControlPageLabel>
				</State> -->
				<State id="curWatts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Watts</TriggerLabel>
					<ControlPageLabel>Current Watts</ControlPageLabel>
				</State>
				<State id="curVolts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Volts</TriggerLabel>
					<ControlPageLabel>Current Volts</ControlPageLabel>
				</State>
				<State id="curAmps">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Amps</TriggerLabel>
					<ControlPageLabel>Current Amps</ControlPageLabel>
				</State>
			</States>
		</Device>

		<Device type="relay" id="hs300">
			<Name>HS300 Smartstrip w/Energy Monitoring</Name>
			<ConfigUI>
				<Field id="multiPlug" type="checkbox" hidden="true" defaultValue="true" />
				<Field id="address" type="textfield" defaultValue="192.168.0.0">
					<Label>Module IP Address:</Label>
				</Field>
				￼<Field type="menu" id="outletNum" defaultValue="00">
					<Label>Outlet Number:</Label>
					<List>
						<Option value="00">0</Option>
						<Option value="01">1</Option>
						<Option value="02">2</Option>
						<Option value="03">3</Option>
						<Option value="04">4</Option>
						<Option value="05">5</Option>
					</List>
				</Field>
<!-- 				<Field id="devPoll" type="checkbox" defaultValue="true">
					<Label>Enable device polling:</Label>
				</Field>
				<Field id="offPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is Off</Label>
				</Field>
				<Field id="onPoll" type="textfield" defaultValue="30" visibleBindingId="devPoll"  visibleBindingValue="true">
					<Label>Polling interval when device is On</Label>
				</Field> -->
				<Field id="newDev" type="checkbox" hidden="true" defaultValue="true">
				</Field>
				￼<Field id="simpleSeparator1" type="separator" />
				<Field id="initialize" type="checkbox" defaultValue="false" visibleBindingId="newDev"  visibleBindingValue="false">>
					<Label>Check to re-read device parameters:</Label>
				</Field>
				<Field type="checkbox" id="SupportsEnergyMeter" defaultValue="true" hidden="true" />
            	<Field type="checkbox" id="SupportsEnergyMeterCurPower" defaultValue="true" hidden="true" />
			</ConfigUI>
			<States>
			<!-- 	<State id="childId">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Name</TriggerLabel>
					<ControlPageLabel>Device Name</ControlPageLabel>
				</State> -->
				<State id="rssi">
					<ValueType>String</ValueType>
					<TriggerLabel>Signal Strength</TriggerLabel>
					<ControlPageLabel>Signal Strength</ControlPageLabel>
				</State>
				<State id="deviceId">
					<ValueType>String</ValueType>
					<TriggerLabel>Device ID</TriggerLabel>
					<ControlPageLabel>Device ID</ControlPageLabel>
				</State>
				<State id="outletId">
					<ValueType>String</ValueType>
					<TriggerLabel>Outlet ID</TriggerLabel>
					<ControlPageLabel>Outlet ID</ControlPageLabel>
				</State>
				<State id="model">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Model</TriggerLabel>
					<ControlPageLabel>Device Model</ControlPageLabel>
				</State>
				<State id="alias">
					<ValueType>String</ValueType>
					<TriggerLabel>Device Alias</TriggerLabel>
					<ControlPageLabel>Device Alias</ControlPageLabel>
				</State>
				<State id="mac">
					<ValueType>String</ValueType>
					<TriggerLabel>Device MAC</TriggerLabel>
					<ControlPageLabel>Device MAC</ControlPageLabel>
				</State>
				<State id="user">
					<ValueType>String</ValueType>
					<TriggerLabel>Username</TriggerLabel>
					<ControlPageLabel>User Name</ControlPageLabel>
				</State>
				<State id="bind">
					<ValueType boolType="YesNo">Boolean</ValueType>
					<TriggerLabel>Bind State</TriggerLabel>
					<ControlPageLabel>Bind State</ControlPageLabel>
				</State>
				<State id="curWatts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Watts</TriggerLabel>
					<ControlPageLabel>Current Watts</ControlPageLabel>
				</State>
				<State id="curVolts">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Volts</TriggerLabel>
					<ControlPageLabel>Current Volts</ControlPageLabel>
				</State>
				<State id="curAmps">
					<ValueType>Float</ValueType>
					<TriggerLabel>Current Amps</TriggerLabel>
					<ControlPageLabel>Current Amps</ControlPageLabel>
				</State>
			</States>
		</Device>
</Devices>
